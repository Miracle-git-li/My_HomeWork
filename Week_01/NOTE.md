# å†³ç­–æ ‘çŸ¥è¯†ç‚¹
# å¸¸è§å†³ç­–æ ‘

| æ¨¡åž‹      | ID3      |     C4.5 |   CART   |
| :--------| :-------- | --------:| :------: |
| ç»“æž„   | å¤šå‰æ ‘    |   å¤šå‰æ ‘ |  äºŒå‰æ ‘  |
| ç‰¹å¾é€‰æ‹©   | ä¿¡æ¯å¢žç›Š    |   ä¿¡æ¯å¢žç›ŠçŽ‡ |  Giniç³»æ•°/å‡æ–¹å·®  |
| è¿žç»­å€¼å¤„ç†   | ä¸æ”¯æŒ    |   æ”¯æŒ |  æ”¯æŒ  |
| ç¼ºå¤±å€¼å¤„ç†   | ä¸æ”¯æŒ    |   æ”¯æŒ |  æ”¯æŒ  |
| æžå‰ª   | ä¸æ”¯æŒ    |   æ”¯æŒ |  æ”¯æŒ  |


# ç®€è¿°å†³ç­–æ ‘æž„å»ºè¿‡ç¨‹
1. æž„å»ºæ ¹èŠ‚ç‚¹ï¼Œå°†æ‰€æœ‰è®­ç»ƒæ•°æ®éƒ½æ”¾åœ¨æ ¹èŠ‚ç‚¹
2. é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜ç‰¹å¾ï¼ŒæŒ‰ç…§è¿™ä¸€ç‰¹å¾å°†è®­ç»ƒæ•°æ®é›†åˆ†å‰²æˆå­é›†ï¼Œä½¿å¾—å„ä¸ªå­é›†æœ‰ä¸€ä¸ªåœ¨å½“å‰æ¡ä»¶ä¸‹æœ€å¥½çš„åˆ†ç±»
3. å¦‚æžœå­é›†éžç©ºï¼Œæˆ–å­é›†å®¹é‡æœªå°äºŽæœ€å°‘æ•°é‡ï¼Œé€’å½’1ï¼Œ2æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰è®­ç»ƒæ•°æ®å­é›†éƒ½è¢«æ­£ç¡®åˆ†ç±»æˆ–æ²¡æœ‰åˆé€‚çš„ç‰¹å¾ä¸ºæ­¢

# è¯¦è¿°ä¿¡æ¯ç†µè®¡ç®—æ–¹æ³•åŠå­˜åœ¨é—®é¢˜
![](https://tva1.sinaimg.cn/large/006y8mN6gy1g925k1ns0yj305y018glg.jpg)

å…¶ä¸­ï¼ŒDä¸ºæ•°æ®å…¨é›†ï¼ŒCä¸ºä¸åŒå› å˜é‡ç±»åˆ«kä¸Šçš„å­é›†(ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„yçš„ç§ç±»)

# è¯¦è¿°ä¿¡æ¯å¢žç›Šè®¡ç®—æ–¹æ³•
æ¡ä»¶ä¿¡æ¯ç†µï¼šåœ¨ç‰¹å¾Aç»™å®šçš„æ¡ä»¶ä¸‹å¯¹æ•°æ®é›†Dåˆ†ç±»çš„ä¸ç¡®å®šæ€§ï¼š
![](https://tva1.sinaimg.cn/large/006y8mN6gy1g925puuv1cj308p01kdfr.jpg)

ä¿¡æ¯å¢žç›Šï¼šçŸ¥é“ç‰¹å¾Açš„ä¿¡æ¯è€Œä½¿ç±»Dçš„ä¿¡æ¯çš„ä¸ç¡®å®šå‡å°‘çš„ç¨‹åº¦ï¼ˆå¯¹ç§°ï¼‰ï¼š
I(D,A) = H(D)-H(D/A)

ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯åœ¨ç‰¹å¾Aä¸‹æ‰¾åˆ°æœ€åˆé€‚çš„åˆ‡åˆ†ï¼Œä½¿å¾—åœ¨è¯¥åˆ‡åˆ†ä¸‹ä¿¡æ¯é‡çš„å˜æ¢æœ€å¤§ï¼Œæ›´åŠ ç¨³å®šï¼›ä½†æ˜¯è¿™ä¸ªæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹äºŽç±»åˆ«å¤©ç”Ÿè¾ƒå¤šçš„ç‰¹å¾ï¼Œæ¨¡åž‹æ›´å®¹æ˜“é€‰ä¸­ï¼Œå› ä¸ºç‰¹å¾ç±»åˆ«è¾ƒå¤šï¼Œåˆ‡åˆ†åŽçš„ä¿¡æ¯å¢žç›Šå¤©ç”Ÿæ›´å¤§ï¼Œæ›´å®¹æ˜“æ»¡è¶³æˆ‘ä»¬çš„åŽŸå§‹å‡è®¾

# è¯¦è¿°ä¿¡æ¯å¢žç›ŠçŽ‡è®¡ç®—æ–¹æ³•
åœ¨ä¿¡æ¯å¢žç›Šè®¡ç®—çš„åŸºç¡€ä¸å˜çš„æƒ…å†µä¸‹å¾—åˆ°çš„ï¼šI(D,A) = H(D)-H(D/A)ï¼ŒåŒæ—¶è¿˜è€ƒè™‘äº†![](https://tva1.sinaimg.cn/large/006y8mN6gy1g925yr9z1vj306601f745.jpg),ç”¨åˆ’åˆ†çš„å­é›†æ•°ä¸Šçš„ç†µæ¥å¹³è¡¡äº†åˆ†ç±»æ•°è¿‡å¤šçš„é—®é¢˜ã€‚

ä¿¡æ¯å¢žç›ŠçŽ‡ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g9260xx5wej304b017q2r.jpg)

# è§£é‡ŠGiniç³»æ•°
Giniç³»æ•°äºŒåˆ†æƒ…å†µä¸‹ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g92705elt9j308000q744.jpg)

å¯¹äºŽå†³ç­–æ ‘æ ·æœ¬Dæ¥è¯´ï¼Œ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g9273px3t2j30a4018wee.jpg)

å¯¹äºŽæ ·æœ¬Dï¼Œå¦‚æžœæ ¹æ®ç‰¹å¾Açš„æŸä¸ªå€¼ï¼ŒæŠŠDåˆ†æˆD1å’ŒD2ï¼Œåˆ™åœ¨ç‰¹å¾Açš„æ¡ä»¶ä¸‹ï¼ŒDçš„åŸºå°¼ç³»æ•°ä¸ºï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g9274yiwhoj30iq02wmx8.jpg)

# ID3å­˜åœ¨çš„é—®é¢˜
ç¼ºç‚¹ï¼š
- å­˜åœ¨åå‘äºŽé€‰æ‹©å–å€¼è¾ƒå¤šçš„ç‰¹å¾é—®é¢˜
- è¿žç»­å€¼ä¸æ”¯æŒ
- ç¼ºå¤±å€¼ä¸æ”¯æŒ
- æ— æ³•æžå‰ª


# C4.5ç›¸å¯¹äºŽID3çš„æ”¹è¿›ç‚¹
- ä¸»åŠ¨è¿›è¡Œçš„è¿žç»­çš„ç‰¹å¾ç¦»æ•£åŒ–
    - æ¯”å¦‚mä¸ªæ ·æœ¬çš„è¿žç»­ç‰¹å¾Aæœ‰mä¸ªï¼Œå…ˆsetåœ¨orderï¼Œå†ä¸¤ä¸¤ç»„åˆæ±‚ä¸­é—´å€¼ï¼Œä»¥è¯¥å€¼ç‚¹ä½œä¸ºåˆ’åˆ†çš„å¾…é€‰ç‚¹
    - **è¿žç»­ç‰¹å¾å¯ä»¥å†åŽåºç‰¹å¾åˆ’åˆ†ä¸­ä»å¯ç»§ç»­å‚ä¸Žè®¡ç®—**
- ç¼ºå¤±é—®é¢˜ä¼˜åŒ–
    - è®­ç»ƒï¼šç”¨æ‰€æœ‰æœªç¼ºå¤±çš„æ ·æœ¬ï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼Œè®¡ç®—æ¯ä¸ªå±žæ€§çš„ä¿¡æ¯å¢žç›Šï¼Œä½†æ˜¯è¿™é‡Œçš„ä¿¡æ¯å¢žç›Šéœ€è¦ä¹˜ä»¥ä¸€ä¸ªç³»æ•°ï¼ˆæœªç¼ºå¤±æ ·æœ¬/æ€»æ ·æœ¬ï¼‰
    - é¢„æµ‹ï¼šç›´æŽ¥è·³è¿‡è¯¥èŠ‚ç‚¹ï¼Œå¹¶å°†æ­¤æ ·æœ¬åˆ’å…¥æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œåˆ’åˆ†åŽä¹˜ä»¥ç³»æ•°è®¡ç®—ï¼Œç³»æ•°ä¸ºä¸ç¼ºå¤±éƒ¨åˆ†çš„æ ·æœ¬åˆ†å¸ƒ
- é‡‡ç”¨é¢„æžå‰ª

# CARTçš„è¿žç»­ç‰¹å¾æ”¹è¿›ç‚¹
- åˆ†ç±»æƒ…å†µä¸‹çš„å˜é‡ç‰¹å¾é€‰æ‹©
    - ç¦»æ•£å˜é‡ï¼šäºŒåˆ†åˆ’åˆ†
    - è¿žç»­å˜é‡ï¼šå’ŒC4.5ä¸€è‡´ï¼Œå¦‚æžœå½“å‰èŠ‚ç‚¹ä¸ºè¿žç»­å±žæ€§ï¼Œåˆ™è¯¥å±žæ€§åŽé¢ä¾æ—§å¯ä»¥å‚ä¸Žå­èŠ‚ç‚¹çš„äº§ç”Ÿé€‰æ‹©è¿‡ç¨‹
- å›žå½’æƒ…å†µä¸‹ï¼Œè¿žç»­å˜é‡ä¸å†é‡‡å–ä¸­é—´å€¼åˆ’åˆ†ï¼Œé‡‡ç”¨æœ€å°æ–¹å·®æ³•

# CARTåˆ†ç±»æ ‘å»ºç«‹ç®—æ³•çš„å…·ä½“æµç¨‹
æˆ‘ä»¬çš„ç®—æ³•ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œç”¨è®­ç»ƒé›†é€’å½’çš„å»ºç«‹CARTæ ‘ã€‚
- å¯¹äºŽå½“å‰èŠ‚ç‚¹çš„æ•°æ®é›†ä¸ºDï¼Œå¦‚æžœæ ·æœ¬ä¸ªæ•°å°äºŽé˜ˆå€¼æˆ–è€…æ²¡æœ‰ç‰¹å¾ï¼Œåˆ™è¿”å›žå†³ç­–å­æ ‘ï¼Œå½“å‰èŠ‚ç‚¹åœæ­¢é€’å½’
- è®¡ç®—æ ·æœ¬é›†Dçš„åŸºå°¼ç³»æ•°ï¼Œå¦‚æžœåŸºå°¼ç³»æ•°å°äºŽé˜ˆå€¼ï¼Œåˆ™è¿”å›žå†³ç­–æ ‘å­æ ‘ï¼Œå½“å‰èŠ‚ç‚¹åœæ­¢é€’å½’
- è®¡ç®—å½“å‰èŠ‚ç‚¹çŽ°æœ‰çš„å„ä¸ªç‰¹å¾çš„å„ä¸ªç‰¹å¾å€¼å¯¹æ•°æ®é›†Dçš„åŸºå°¼ç³»æ•°
- åœ¨è®¡ç®—å‡ºæ¥çš„å„ä¸ªç‰¹å¾çš„å„ä¸ªç‰¹å¾å€¼å¯¹æ•°æ®é›†Dçš„åŸºå°¼ç³»æ•°ä¸­ï¼Œé€‰æ‹©åŸºå°¼ç³»æ•°æœ€å°çš„ç‰¹å¾Aå’Œå¯¹åº”çš„ç‰¹å¾å€¼aã€‚æ ¹æ®è¿™ä¸ªæœ€ä¼˜ç‰¹å¾å’Œæœ€ä¼˜ç‰¹å¾å€¼ï¼ŒæŠŠæ•°æ®é›†åˆ’åˆ†æˆä¸¤éƒ¨åˆ†D1å’ŒD2ï¼ŒåŒæ—¶å»ºç«‹å½“å‰èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ï¼ŒåšèŠ‚ç‚¹çš„æ•°æ®é›†Dä¸ºD1ï¼Œå³èŠ‚ç‚¹çš„æ•°æ®é›†Dä¸ºD2
- é€’å½’1ï½ž4

# CARTå›žå½’æ ‘å»ºç«‹ç®—æ³•çš„å…·ä½“æµç¨‹
å…¶ä»–éƒ¨åˆ†éƒ½ä¸€æ ·ï¼Œåœ¨æž„å»ºè¿‡ç¨‹ä¸­é‡åˆ°è¿žç»­å€¼çš„è¯ï¼Œå¹¶ä¸æ˜¯åˆ©ç”¨C4.5ä¸­çš„ä¸­é—´å€¼åŸºå°¼ç³»æ•°çš„æ–¹å¼ï¼Œè€Œæ˜¯é‡‡å–äº†æœ€å°æ–¹å·®æ–¹æ³•ï¼š

å¯¹äºŽä»»æ„åˆ’åˆ†ç‰¹å¾Aï¼Œå¯¹åº”çš„ä»»æ„åˆ’åˆ†ç‚¹sä¸¤è¾¹åˆ’åˆ†æˆçš„æ•°æ®é›†D1å’ŒD2ï¼Œæ±‚å‡ºä½¿D1å’ŒD2å„è‡ªé›†åˆçš„å‡æ–¹å·®æœ€å°ï¼ŒåŒæ—¶D1å’ŒD2çš„å‡æ–¹å·®ä¹‹å’Œæœ€å°æ‰€å¯¹åº”çš„ç‰¹å¾å’Œç‰¹å¾å€¼åˆ’åˆ†ç‚¹ï¼Œå…¶ä¸­c1ä¸ºD1çš„å‡å€¼ï¼Œc2ä¸ºD2çš„å‡å€¼ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g928jep1nkj309a00q745.jpg)

# CARTè¾“å‡ºç»“æžœçš„é€»è¾‘ï¼Ÿ
- å›žå½’æ ‘ï¼šåˆ©ç”¨æœ€ç»ˆå¶å­çš„å‡å€¼æˆ–è€…ä¸­ä½æ•°æ¥ä½œä¸ºè¾“å‡ºç»“æžœ
- åˆ†ç±»æ ‘ï¼šåˆ©ç”¨æœ€ç»ˆå¶å­çš„å¤§æ¦‚çŽ‡çš„åˆ†ç±»ç±»åˆ«æ¥ä½œä¸ºè¾“å‡ºç»“æžœ

# CARTæ ‘ç®—æ³•çš„å‰ªæžè¿‡ç¨‹æ˜¯æ€Žä¹ˆæ ·çš„ï¼Ÿ
ç›®æ ‡å‡½æ•°ä¸ºï¼šð¶ð›¼(ð‘‡ð‘¡)=ð¶(ð‘‡ð‘¡)+ð›¼|ð‘‡ð‘¡|ï¼Œå…¶ä¸­ï¼ŒÎ±ä¸ºæ­£åˆ™åŒ–å‚æ•°ï¼Œè¿™å’Œçº¿æ€§å›žå½’çš„æ­£åˆ™åŒ–ä¸€æ ·ã€‚ð¶(ð‘‡ð‘¡)ä¸ºè®­ç»ƒæ•°æ®çš„é¢„æµ‹è¯¯å·®ï¼Œåˆ†ç±»æ ‘æ˜¯ç”¨åŸºå°¼ç³»æ•°åº¦é‡ï¼Œå›žå½’æ ‘æ˜¯å‡æ–¹å·®åº¦é‡ã€‚|ð‘‡ð‘¡|æ˜¯å­æ ‘Tçš„å¶å­èŠ‚ç‚¹çš„æ•°é‡

å½“ð›¼=0æ—¶ï¼Œå³æ²¡æœ‰æ­£åˆ™åŒ–ï¼ŒåŽŸå§‹çš„ç”Ÿæˆçš„CARTæ ‘å³ä¸ºæœ€ä¼˜å­æ ‘ã€‚å½“ð›¼=âˆžæ—¶ï¼Œå³æ­£åˆ™åŒ–å¼ºåº¦è¾¾åˆ°æœ€å¤§ï¼Œæ­¤æ—¶ç”±åŽŸå§‹çš„ç”Ÿæˆçš„CARTæ ‘çš„æ ¹èŠ‚ç‚¹ç»„æˆçš„å•èŠ‚ç‚¹æ ‘ä¸ºæœ€ä¼˜å­æ ‘ã€‚
å½“ç„¶ï¼Œè¿™æ˜¯ä¸¤ç§æžç«¯æƒ…å†µã€‚ä¸€èˆ¬æ¥è¯´ï¼Œð›¼è¶Šå¤§ï¼Œåˆ™å‰ªæžå‰ªçš„è¶ŠåŽ‰å®³ï¼Œç”Ÿæˆçš„æœ€ä¼˜å­æ ‘ç›¸æ¯”åŽŸç”Ÿå†³ç­–æ ‘å°±è¶Šåå°ã€‚å¯¹äºŽå›ºå®šçš„ð›¼ï¼Œä¸€å®šå­˜åœ¨ä½¿æŸå¤±å‡½æ•°ð¶ð›¼(ð‘‡)æœ€å°çš„å”¯ä¸€å­æ ‘ã€‚
ç”±æžå‰ªåˆ°æ ¹ç»“ç‚¹åŠä¸æžå‰ªä¸¤ç§æƒ…å†µå¯å¾—ï¼šð›¼=(ð¶(ð‘‡)âˆ’ð¶(ð‘‡ð‘¡))/(|ð‘‡ð‘¡|âˆ’1) , C(T)ä¸ºæ ¹ç»“ç‚¹è¯¯å·®

- è®¡ç®—å‡ºæ¯ä¸ªå­æ ‘æ˜¯å¦å‰ªæžçš„é˜ˆå€¼ð›¼
- é€‰æ‹©é˜ˆå€¼ð›¼é›†åˆä¸­çš„æœ€å°å€¼
- åˆ†åˆ«é’ˆå¯¹ä¸åŒçš„æœ€å°å€¼ð›¼æ‰€å¯¹åº”çš„å‰ªæžåŽçš„æœ€ä¼˜å­æ ‘åšäº¤å‰éªŒè¯

# æ ‘å½¢ç»“æž„ä¸ºä½•ä¸éœ€è¦å½’ä¸€åŒ–ï¼Ÿ
æ— è®ºæ˜¯åˆ†ç±»æ ‘è¿˜æ˜¯å›žå½’æ ‘ï¼Œæ— è®ºæ˜¯è¿žç»­å˜é‡è¿˜æ˜¯ç¦»æ•£å˜é‡ï¼Œæ ‘æ¨¡åž‹ä¸€ç›´æƒ³æ‰¾çš„æ˜¯æœ€ä¼˜åˆ‡åˆ†ç‚¹ï¼Œä¸å­˜åœ¨æ¢¯åº¦å¯¼æ•°ç­‰è®¡ç®—ï¼Œæ•°å€¼ç¼©æ”¾ä¸å½±å“åˆ†è£‚ç‚¹ä½ç½®ï¼Œå¯¹æ ‘æ¨¡åž‹çš„ç»“æž„ä¸é€ æˆå½±å“ã€‚

# å†³ç­–æ ‘çš„ä¼˜ç¼ºç‚¹
ä¼˜ç‚¹ï¼š
- ç¼ºå¤±å€¼ä¸æ•æ„Ÿï¼Œå¯¹ç‰¹å¾çš„å®½å®¹ç¨‹åº¦é«˜ï¼Œå¯ç¼ºå¤±å¯è¿žç»­å¯ç¦»æ•£
- å¯è§£é‡Šæ€§å¼º
- ç®—æ³•å¯¹æ•°æ®æ²¡æœ‰å¼ºå‡è®¾
- å¯ä»¥è§£å†³çº¿æ€§åŠéžçº¿æ€§é—®é¢˜
- æœ‰ç‰¹å¾é€‰æ‹©ç­‰è¾…åŠ©åŠŸèƒ½

ç¼ºç‚¹ï¼š
- å¤„ç†å…³è”æ€§æ•°æ®æ¯”è¾ƒè–„å¼±
- æ­£è´Ÿé‡çº§æœ‰åæ ·æœ¬çš„æ ·æœ¬æ•ˆæžœè¾ƒå·®
- å•æ£µæ ‘çš„æ‹Ÿåˆæ•ˆæžœæ¬ ä½³ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆ  

# éšæœºæ£®æž—çŸ¥è¯†ç‚¹  

# è§£é‡Šä¸‹éšæœºæ£®æž—?
- éšæœºæ£®æž—=bagging+å†³ç­–æ ‘
- éšæœºï¼šç‰¹å¾é€‰æ‹©éšæœº+æ•°æ®é‡‡æ ·éšæœº
    - ç‰¹å¾éšæœºæ˜¯åœ¨å†³ç­–æ ‘**æ¯ä¸ªç»“ç‚¹ä¸Šé€‰æ‹©çš„æ—¶å€™éšæœº**ï¼Œå¹¶ä¸æ˜¯åœ¨æ¯æ£µæ ‘åˆ›å»ºçš„æ—¶å€™éšæœº
    - æ¯ä¸ªç»“ç‚¹ä¸Šå¯¹ç‰¹å¾é€‰æ‹©éƒ½æ˜¯ä»Žå…¨é‡ç‰¹å¾ä¸­è¿›è¡Œé‡‡æ ·å¯¹ï¼Œ**ä¸ä¼šå‰”é™¤å·²åˆ©ç”¨çš„**
    - æ•°æ®é‡‡æ ·ï¼Œæ˜¯æœ‰æ”¾å›žçš„é‡‡æ ·
        - 1ä¸ªæ ·æœ¬**æœªè¢«é€‰åˆ°**çš„æ¦‚çŽ‡ä¸ºp = (1 - 1/N)^N = 1/eï¼Œå³ä¸ºOOB
- æ£®æž—ï¼šå¤šå†³ç­–æ ‘ç»„åˆ
    - å¯åˆ†ç±»å¯å›žå½’ï¼Œå›žå½’æ˜¯å¯¹è¾“å‡ºå€¼è¿›è¡Œç®€å•å¹³å‡ï¼Œåˆ†ç±»æ˜¯å¯¹è¾“å‡ºå€¼è¿›è¡Œç®€å•æŠ•ç¥¨

# éšæœºæ£®æž—ç”¨çš„æ˜¯ä»€ä¹ˆæ ‘ï¼Ÿ
CARTæ ‘

# éšæœºæ£®æž—çš„ç”Ÿæˆè¿‡ç¨‹ï¼Ÿ
- ç”Ÿæˆå•æ£µå†³ç­–æ ‘
    - éšæœºé€‰å–æ ·æœ¬
    - ä»ŽMä¸ªè¾“å…¥ç‰¹å¾é‡Œéšæœºé€‰æ‹©mä¸ªè¾“å…¥ç‰¹å¾ï¼Œç„¶åŽä»Žè¿™mä¸ªè¾“å…¥ç‰¹å¾é‡Œé€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„è¿›è¡Œåˆ†è£‚
    - ä¸éœ€è¦å‰ªæžï¼Œç›´åˆ°è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰è®­ç»ƒæ ·ä¾‹éƒ½å±žäºŽåŒä¸€ç±»
- ç”Ÿæˆè‹¥å¹²ä¸ªå†³ç­–æ ‘

# è§£é‡Šä¸‹éšæœºæ£®æž—èŠ‚ç‚¹çš„åˆ†è£‚ç­–ç•¥ï¼Ÿ
Giniç³»æ•°

åœ¨è¿žç»­å€¼å’Œç¦»æ•£å€¼ä¸Šï¼š[CARTåˆ†ç±»æ ‘å»ºç«‹ç®—æ³•çš„å…·ä½“æµç¨‹](https://github.com/sladesha/Reflection_Summary/blob/master/æœºå™¨å­¦ä¹ /å†³ç­–æ ‘/å†³ç­–æ ‘.md#L164)å’Œ[CARTå›žå½’æ ‘å»ºç«‹ç®—æ³•çš„å…·ä½“æµç¨‹](https://github.com/sladesha/Reflection_Summary/blob/master/æœºå™¨å­¦ä¹ /å†³ç­–æ ‘/å†³ç­–æ ‘.md#L164)

# éšæœºæ£®æž—çš„æŸå¤±å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
- åˆ†ç±»RFå¯¹åº”çš„CARTåˆ†ç±»æ ‘é»˜è®¤æ˜¯åŸºå°¼ç³»æ•°gini,å¦ä¸€ä¸ªå¯é€‰æ‹©çš„æ ‡å‡†æ˜¯ä¿¡æ¯å¢žç›Š
- å›žå½’RFå¯¹åº”çš„CARTå›žå½’æ ‘é»˜è®¤æ˜¯å‡æ–¹å·®mseï¼Œå¦ä¸€ä¸ªå¯ä»¥é€‰æ‹©çš„æ ‡å‡†æ˜¯ç»å¯¹å€¼å·®mae
- å‚è€ƒå†³ç­–æ ‘çš„æŸå¤±å‡½æ•°å³å¯ï¼š[CARTåˆ†ç±»æ ‘å»ºç«‹ç®—æ³•çš„å…·ä½“æµç¨‹](https://github.com/sladesha/Reflection_Summary/blob/master/æœºå™¨å­¦ä¹ /å†³ç­–æ ‘/å†³ç­–æ ‘.md#L164)å’Œ[CARTå›žå½’æ ‘å»ºç«‹ç®—æ³•çš„å…·ä½“æµç¨‹](https://github.com/sladesha/Reflection_Summary/blob/master/æœºå™¨å­¦ä¹ /å†³ç­–æ ‘/å†³ç­–æ ‘.md#L164)

# ä¸ºäº†é˜²æ­¢éšæœºæ£®æž—è¿‡æ‹Ÿåˆå¯ä»¥æ€Žä¹ˆåš?
- å¢žåŠ æ ‘çš„æ•°é‡
- å¢žåŠ å¶å­ç»“ç‚¹çš„æ•°æ®æ•°é‡
- baggingç®—æ³•ä¸­ï¼ŒåŸºæ¨¡åž‹çš„æœŸæœ›ä¸Žæ•´ä½“æœŸæœ›ä¸€è‡´ï¼Œå‚è€ƒ[å°±ç†è®ºè§’åº¦è®ºè¯Baggingã€Boostingçš„æ–¹å·®åå·®é—®é¢˜](https://github.com/sladesha/Reflection_Summary/blob/master/åŸºç¡€æ¦‚å¿µ/æ–¹å·®ä¸Žåå·®/æ–¹å·®ä¸Žåå·®.md#L7)
- éšç€åŸºæ¨¡åž‹æ•°ï¼ˆmï¼‰çš„å¢žå¤šï¼Œæ•´ä½“æ¨¡åž‹çš„æ–¹å·®å‡å°‘ï¼Œä»Žè€Œé˜²æ­¢è¿‡æ‹Ÿåˆçš„èƒ½åŠ›å¢žå¼ºï¼Œæ¨¡åž‹çš„å‡†ç¡®åº¦å¾—åˆ°æé«˜

# éšæœºæ£®æž—ç‰¹å¾é€‰æ‹©çš„è¿‡ç¨‹ï¼Ÿ
ç‰¹å¾é€‰æ‹©æ–¹å‘ï¼šå¯¹äºŽæŸä¸ªç‰¹å¾ï¼Œå¦‚æžœç”¨å¦å¤–ä¸€ä¸ªéšæœºå€¼æ›¿ä»£å®ƒä¹‹åŽçš„è¡¨çŽ°æ¯”ä¹‹å‰æ›´å·®ï¼Œåˆ™è¡¨æ˜Žè¯¥ç‰¹å¾æ¯”è¾ƒé‡è¦ï¼Œæ‰€å çš„æƒé‡åº”è¯¥è¾ƒå¤§ï¼Œä¸èƒ½ç”¨ä¸€ä¸ªéšæœºå€¼æ›¿ä»£ã€‚ç›¸åï¼Œå¦‚æžœéšæœºå€¼æ›¿ä»£åŽçš„è¡¨çŽ°æ²¡æœ‰å¤ªå¤§å·®åˆ«ï¼Œåˆ™è¡¨æ˜Žè¯¥ç‰¹å¾ä¸é‚£ä¹ˆé‡è¦ï¼Œå¯æœ‰å¯æ— 
    - é€šè¿‡permutationçš„æ–¹å¼å°†åŽŸæ¥çš„æ‰€æœ‰Nä¸ªæ ·æœ¬çš„ç¬¬iä¸ªç‰¹å¾å€¼é‡æ–°æ‰“ä¹±åˆ†å¸ƒï¼ˆç›¸å½“äºŽé‡æ–°æ´—ç‰Œï¼‰
    - æ˜¯ä½¿ç”¨uniformæˆ–è€…gaussianæŠ½å–éšæœºå€¼æ›¿æ¢åŽŸç‰¹å¾
    
# æ˜¯å¦ç”¨è¿‡éšæœºæ£®æž—ï¼Œæœ‰ä»€ä¹ˆæŠ€å·§?
- é™¤äº†ç›´æŽ¥è®©éšæœºæ£®æž—é€‰æ‹©ç‰¹å¾ï¼Œè¿˜æœ‰è‡ªè¡Œæž„é€ ç»„åˆç‰¹å¾å¸¦å…¥æ¨¡åž‹ï¼Œæ˜¯çš„randomForest-subspaceå˜æˆrandomForest-combination

# RFçš„å‚æ•°æœ‰å“ªäº›ï¼Œå¦‚ä½•è°ƒå‚ï¼Ÿ
è¦è°ƒæ•´çš„å‚æ•°ä¸»è¦æ˜¯ n_estimatorså’Œmax_features 
- n_estimatorsæ˜¯æ£®æž—é‡Œæ ‘çš„æ•°é‡ï¼Œé€šå¸¸æ•°é‡è¶Šå¤§ï¼Œæ•ˆæžœè¶Šå¥½ï¼Œä½†æ˜¯è®¡ç®—æ—¶é—´ä¹Ÿä¼šéšä¹‹å¢žåŠ ã€‚ æ­¤å¤–è¦æ³¨æ„ï¼Œå½“æ ‘çš„æ•°é‡è¶…è¿‡ä¸€ä¸ªä¸´ç•Œå€¼ä¹‹åŽï¼Œç®—æ³•çš„æ•ˆæžœå¹¶ä¸ä¼šå¾ˆæ˜¾è‘—åœ°å˜å¥½
- max_featuresæ˜¯åˆ†å‰²èŠ‚ç‚¹æ—¶è€ƒè™‘çš„ç‰¹å¾çš„éšæœºå­é›†çš„å¤§å°ã€‚ è¿™ä¸ªå€¼è¶Šä½Žï¼Œæ–¹å·®å‡å°å¾—è¶Šå¤šï¼Œä½†æ˜¯åå·®çš„å¢žå¤§ä¹Ÿè¶Šå¤š
    - å›žå½’ï¼šmax_features = n_features
    - åˆ†ç±»ï¼šmax_features = sqrt(n_features)

å…¶ä»–å‚æ•°ä¸­
- class_weightä¹Ÿå¯ä»¥è°ƒæ•´æ­£è´Ÿæ ·æœ¬çš„æƒé‡
-  max_depth = None å’Œ min_samples_split = 2 ç»“åˆï¼Œä¸ºä¸é™åˆ¶ç”Ÿæˆä¸€ä¸ªä¸ä¿®å‰ªçš„å®Œå…¨æ ‘
 
# RFçš„ä¼˜ç¼ºç‚¹ ï¼Ÿ
- ä¼˜ç‚¹:
    - ä¸åŒå†³ç­–æ ‘å¯ä»¥ç”±ä¸åŒä¸»æœºå¹¶è¡Œè®­ç»ƒç”Ÿæˆï¼Œæ•ˆçŽ‡å¾ˆé«˜
    - éšæœºæ£®æž—ç®—æ³•ç»§æ‰¿äº†CARTçš„ä¼˜ç‚¹
    - å°†æ‰€æœ‰çš„å†³ç­–æ ‘é€šè¿‡baggingçš„å½¢å¼ç»“åˆèµ·æ¥ï¼Œé¿å…äº†å•ä¸ªå†³ç­–æ ‘é€ æˆè¿‡æ‹Ÿåˆçš„é—®é¢˜
- ç¼ºç‚¹ï¼š
    - æ²¡æœ‰ä¸¥æ ¼æ•°å­¦ç†è®ºæ”¯æŒ  

# GBDTçŸ¥è¯†ç‚¹  
# ä»‹ç»ä¸€ä¸‹Boostingçš„æ€æƒ³ï¼Ÿ
- åˆå§‹åŒ–è®­ç»ƒä¸€ä¸ªå¼±å­¦ä¹ å™¨ï¼Œåˆå§‹åŒ–ä¸‹çš„å„æ¡æ ·æœ¬çš„æƒé‡ä¸€è‡´
- æ ¹æ®ä¸Šä¸€ä¸ªå¼±å­¦ä¹ å™¨çš„ç»“æžœï¼Œè°ƒæ•´æƒé‡ï¼Œä½¿å¾—é”™åˆ†çš„æ ·æœ¬çš„æƒé‡å˜å¾—æ›´é«˜
- åŸºäºŽè°ƒæ•´åŽçš„æ ·æœ¬åŠæ ·æœ¬æƒé‡è®­ç»ƒä¸‹ä¸€ä¸ªå¼±å­¦ä¹ å™¨
- é¢„æµ‹æ—¶ç›´æŽ¥ä¸²è”ç»¼åˆå„å­¦ä¹ å™¨çš„åŠ æƒç»“æžœ

# æœ€å°äºŒä¹˜å›žå½’æ ‘çš„åˆ‡åˆ†è¿‡ç¨‹æ˜¯æ€Žä¹ˆæ ·çš„ï¼Ÿ
- å›žå½’æ ‘åœ¨æ¯ä¸ªåˆ‡åˆ†åŽçš„ç»“ç‚¹ä¸Šéƒ½ä¼šæœ‰ä¸€ä¸ªé¢„æµ‹å€¼ï¼Œè¿™ä¸ªé¢„æµ‹å€¼å°±æ˜¯ç»“ç‚¹ä¸Šæ‰€æœ‰å€¼çš„å‡å€¼
- åˆ†æžæ—¶éåŽ†æ‰€æœ‰çš„å±žæ€§è¿›è¡ŒäºŒå‰åˆ’åˆ†ï¼ŒæŒ‘é€‰ä½¿å¹³æ–¹è¯¯å·®æœ€å°çš„åˆ’åˆ†å±žæ€§ä½œä¸ºæœ¬èŠ‚ç‚¹çš„åˆ’åˆ†å±žæ€§
- å±žæ€§ä¸Šæœ‰å¤šä¸ªå€¼ï¼Œåˆ™éœ€è¦éåŽ†æ‰€æœ‰å¯èƒ½çš„å±žæ€§å€¼ï¼ŒæŒ‘é€‰ä½¿å¹³æ–¹è¯¯å·®æœ€å°çš„åˆ’åˆ†å±žæ€§å€¼ä½œä¸ºæœ¬å±žæ€§çš„åˆ’åˆ†å€¼
- é€’å½’é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°æ»¡è¶³å¶å­ç»“ç‚¹ä¸Šå€¼çš„è¦æ±‚

# æœ‰å“ªäº›ç›´æŽ¥åˆ©ç”¨äº†Boostingæ€æƒ³çš„æ ‘æ¨¡åž‹ï¼Ÿ
adaboostï¼Œgbdtç­‰ç­‰

# gbdtå’Œboostingtreeçš„boostingåˆ†åˆ«ä½“çŽ°åœ¨å“ªé‡Œï¼Ÿ
- boostingtreeåˆ©ç”¨åŸºæ¨¡åž‹å­¦ä¹ å™¨ï¼Œæ‹Ÿåˆçš„æ˜¯mseï¼ˆå›žå½’ï¼‰æˆ–è€…æŒ‡æ•°æŸå¤±å‡½æ•°ï¼ˆåˆ†ç±»ï¼‰
- gbdtåˆ©ç”¨åŸºæ¨¡åž‹å­¦ä¹ å™¨ï¼Œæ‹Ÿåˆçš„æ˜¯å½“å‰æ¨¡åž‹ä¸Žæ ‡ç­¾å€¼çš„æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦

# gbdtçš„ä¸­çš„treeæ˜¯ä»€ä¹ˆtreeï¼Ÿæœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ
Cart treeï¼Œä½†æ˜¯éƒ½æ˜¯å›žå½’æ ‘

# å¸¸ç”¨å›žå½’é—®é¢˜çš„æŸå¤±å‡½æ•°ï¼Ÿ
- mse:![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94bmopzfjj303s011t8i.jpg)
    - è´Ÿæ¢¯åº¦ï¼šy-h(x)
    - åˆå§‹æ¨¡åž‹F0ç”±ç›®æ ‡å˜é‡çš„å¹³å‡å€¼ç»™å‡º
- ç»å¯¹æŸå¤±:![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94bne7cipj303400q742.jpg)
    - è´Ÿæ¢¯åº¦ï¼šsign(y-h(x))
    - åˆå§‹æ¨¡åž‹F0ç”±ç›®æ ‡å˜é‡çš„ä¸­å€¼ç»™å‡º
- HuberæŸå¤±ï¼šmseå’Œç»å¯¹æŸå¤±çš„ç»“åˆ
    - è´Ÿæ¢¯åº¦ï¼šy-h(x)å’Œsign(y-h(x))åˆ†æ®µå‡½æ•°
    - å®ƒæ˜¯MSEå’Œç»å¯¹æŸå¤±çš„ç»„åˆå½¢å¼ï¼Œå¯¹äºŽè¿œç¦»ä¸­å¿ƒçš„å¼‚å¸¸ç‚¹ï¼Œé‡‡ç”¨ç»å¯¹æŸå¤±ï¼Œå…¶ä»–çš„ç‚¹é‡‡ç”¨MSEï¼Œè¿™ä¸ªç•Œé™ä¸€èˆ¬ç”¨åˆ†ä½æ•°ç‚¹åº¦é‡

# å¸¸ç”¨åˆ†ç±»é—®é¢˜çš„æŸå¤±å‡½æ•°ï¼Ÿ
- å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°
    - äºŒå…ƒä¸”æ ‡ç­¾yå±žäºŽ{-1,+1}ï¼šð¿(ð‘¦,ð‘“(ð‘¥))=ð‘™ð‘œð‘”(1+ð‘’ð‘¥ð‘(âˆ’ð‘¦ð‘“(ð‘¥)))
        - è´Ÿæ¢¯åº¦ï¼šy/(1+ð‘’ð‘¥ð‘(âˆ’ð‘¦ð‘“(ð‘¥)))
    - å¤šå…ƒï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94cj1yce6j306x01iglg.jpg)
- æŒ‡æ•°æŸå¤±å‡½æ•°:ð¿(ð‘¦,ð‘“(ð‘¥))=ð‘’ð‘¥ð‘(âˆ’ð‘¦ð‘“(ð‘¥))
    - è´Ÿæ¢¯åº¦ï¼šyÂ·ð‘’ð‘¥ð‘(âˆ’ð‘¦ð‘“(ð‘¥))
é™¤äº†è´Ÿæ¢¯åº¦è®¡ç®—å’Œå¶å­èŠ‚ç‚¹çš„æœ€ä½³è´Ÿæ¢¯åº¦æ‹Ÿåˆçš„çº¿æ€§æœç´¢ï¼Œå¤šå…ƒGBDTåˆ†ç±»å’ŒäºŒå…ƒGBDTåˆ†ç±»ä»¥åŠGBDTå›žå½’ç®—æ³•è¿‡ç¨‹ç›¸åŒ

# ä»€ä¹ˆæ˜¯gbdtä¸­çš„æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦ï¼Ÿ
![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94afa5h1lj3060017mx0.jpg)

å½“losså‡½æ•°ä¸ºå‡æ–¹è¯¯å·®![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94ajgymkuj303w011jr6.jpg)ï¼Œgbdtä¸­çš„æ®‹å·®çš„è´Ÿæ¢¯åº¦çš„ç»“æžœy-H(x)æ­£å¥½ä¸Žboostingtreeçš„æ‹Ÿåˆæ®‹å·®ä¸€è‡´

# å¦‚ä½•ç”¨æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦å®žçŽ°gbdtï¼Ÿ
- åˆ©ç”¨![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94afa5h1lj3060017mx0.jpg)å¯ä»¥è®¡ç®—å¾—åˆ°xå¯¹åº”çš„æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94ars964uj301h00ijr5.jpg),æ®æ­¤æˆ‘ä»¬å¯ä»¥æž„é€ å‡ºç¬¬tæ£µå›žå½’æ ‘ï¼Œå…¶å¯¹åº”çš„å¶å­ç»“ç‚¹åŒºåŸŸ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94atb0k7zj300p00i3y9.jpg)jä¸ºå¶å­ç»“ç‚¹ä½ç½®
- æž„å»ºå›žå½’æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è€ƒè™‘æ‰¾åˆ°ç‰¹å¾Aä¸­æœ€åˆé€‚çš„åˆ‡åˆ†ç‚¹ï¼Œä½¿å¾—åˆ‡åˆ†åŽçš„æ•°æ®é›†D1å’ŒD2çš„å‡æ–¹è¯¯å·®æœ€å°![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94b0klia2j30ee017aa0.jpg)
- é’ˆå¯¹æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹é‡Œçš„æ ·æœ¬ï¼Œæˆ‘ä»¬æ±‚å‡ºä½¿æŸå¤±å‡½æ•°æœ€å°ï¼Œä¹Ÿå°±æ˜¯æ‹Ÿåˆå¶å­èŠ‚ç‚¹æœ€å¥½çš„è¾“å‡ºå€¼ð‘ð‘¡ð‘—,![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94b5ffnyoj308g0173yd.jpg)
    - é¦–å…ˆï¼Œæ ¹æ®featureåˆ‡åˆ†åŽçš„æŸå¤±å‡æ–¹å·®å¤§å°ï¼Œé€‰å–æœ€ä¼˜çš„ç‰¹å¾åˆ‡åˆ†
    - å…¶æ¬¡ï¼Œæ ¹æ®é€‰å®šçš„featureåˆ‡åˆ†åŽçš„å¶å­ç»“ç‚¹æ•°æ®é›†ï¼Œé€‰å–æœ€ä½¿æŸå¤±å‡½æ•°æœ€å°ï¼Œä¹Ÿå°±æ˜¯æ‹Ÿåˆå¶å­èŠ‚ç‚¹æœ€å¥½çš„è¾“å‡ºå€¼
    - è¿™æ ·å°±å®Œæ•´çš„æž„é€ å‡ºä¸€æ£µæ ‘ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94bfr5cn5j303d01kjr6.jpg)
- æœ¬è½®æœ€ç»ˆå¾—åˆ°çš„å¼ºå­¦ä¹ å™¨çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94binx5prj307o01k0sl.jpg)

# æ‹ŸåˆæŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦ä¸ºä»€ä¹ˆæ˜¯å¯è¡Œçš„ï¼Ÿ
- æ³°å‹’å±•å¼€çš„ä¸€é˜¶å½¢å¼ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94h6rkexqj305x00ijr7.jpg)
- mè½®æ ‘æ¨¡åž‹å¯ä»¥å†™æˆï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94h8zovulj305v00iglf.jpg)
    - å¯¹![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94hak9e26j303n00idfm.jpg)è¿›è¡Œæ³°å‹’å±•å¼€ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94hd5sz8vj309400kglg.jpg),å…¶ä¸­m-1è½®å¯¹æ®‹å·®æ¢¯åº¦ä¸º![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94hey2xksj3052017a9w.jpg)
- æˆ‘ä»¬æ‹Ÿåˆäº†æ®‹å·®çš„è´Ÿæ¢¯åº¦ï¼Œ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94hi3epnaj302r00kmwx.jpg),æ‰€ä»¥![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94hd5sz8vj309400kglg.jpg)å†…ä¼šè®©æŸå¤±å‘ä¸‹é™å¯¹æ–¹å‘å‰è¿›

# å³ä¾¿æ‹ŸåˆæŸå¤±å‡½æ•°è´Ÿæ¢¯åº¦æ˜¯å¯è¡Œçš„ï¼Œä¸ºä»€ä¹ˆä¸ç›´æŽ¥æ‹Ÿåˆæ®‹å·®ï¼Ÿ æ‹Ÿåˆè´Ÿæ¢¯åº¦å¥½åœ¨å“ªé‡Œï¼Ÿ
- å‰è€…ä¸ç”¨æ®‹å·®çš„è´Ÿæ¢¯åº¦è€Œæ˜¯ä½¿ç”¨æ®‹å·®ï¼Œæ˜¯å…¨å±€æœ€ä¼˜å€¼ï¼ŒåŽè€…ä½¿ç”¨çš„æ˜¯ å±€éƒ¨æœ€ä¼˜æ–¹å‘ï¼ˆè´Ÿæ¢¯åº¦ï¼‰*æ­¥é•¿ï¼ˆð›½ï¼‰
- ä¾èµ–æ®‹å·®è¿›è¡Œä¼˜åŒ–ï¼ŒæŸå¤±å‡½æ•°ä¸€èˆ¬å›ºå®šä¸ºåæ˜ æ®‹å·®çš„å‡æ–¹å·®æŸå¤±å‡½æ•°ï¼Œå› æ­¤ å½“å‡æ–¹å·®æŸå¤±å‡½æ•°å¤±æ•ˆï¼ˆè¯¥æŸå¤±å‡½æ•°å¯¹å¼‚å¸¸å€¼æ•æ„Ÿï¼‰çš„æ—¶å€™ï¼Œæ¢äº†å…¶ä»–ä¸€èˆ¬çš„æŸå¤±å‡½æ•°ï¼Œä¾¿å¾ˆéš¾å¾—åˆ°ä¼˜åŒ–çš„ç»“æžœã€‚åŒæ—¶ï¼Œå› ä¸ºæŸå¤±å‡½æ•°çš„é—®é¢˜ï¼ŒBoosting Treeä¹Ÿå¾ˆéš¾å¤„ç†å›žå½’ä¹‹å¤–é—®é¢˜ã€‚ è€ŒåŽè€…ä½¿ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ï¼Œå¯¹äºŽä»»æ„å¯ä»¥æ±‚å¯¼çš„æŸå¤±å‡½æ•°å®ƒéƒ½å¯ä»¥å¤„ç†

# Shrinkageæ”¶ç¼©çš„ä½œç”¨ï¼Ÿ
æ¯æ¬¡èµ°ä¸€å°æ­¥é€æ¸é€¼è¿‘ç»“æžœçš„æ•ˆæžœï¼Œè¦æ¯”æ¯æ¬¡è¿ˆä¸€å¤§æ­¥å¾ˆå¿«é€¼è¿‘ç»“æžœçš„æ–¹å¼æ›´å®¹æ˜“å¾—åˆ°ç²¾ç¡®å€¼ï¼Œå³å®ƒä¸å®Œå…¨ä¿¡ä»»æ¯ä¸€æ£µæ®‹å·®æ ‘ï¼Œè®¤ä¸ºæ¯æ£µæ ‘åªå­¦åˆ°äº†çœŸç†çš„ä¸€éƒ¨åˆ†ç´¯åŠ çš„æ—¶å€™åªç´¯åŠ äº†ä¸€å°éƒ¨åˆ†å¤šå­¦å‡ æ£µæ ‘æ¥å¼¥è¡¥ä¸è¶³ã€‚ è¿™ä¸ªæŠ€å·§ç±»ä¼¼äºŽæ¢¯åº¦ä¸‹é™é‡Œçš„å­¦ä¹ çŽ‡
- åŽŸå§‹ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94i9bokjzj306g00iglf.jpg)
- Shrinkageï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94iawlfq3j307600it8j.jpg)

# featureå±žæ€§ä¼šè¢«é‡å¤å¤šæ¬¡ä½¿ç”¨ä¹ˆï¼Ÿ
ä¼šï¼ŒåŒæ—¶å› ä¸ºç‰¹å¾ä¼šè¿›è¡Œå¤šæ¬¡ä½¿ç”¨ï¼Œç‰¹å¾ç”¨çš„è¶Šå¤šï¼Œåˆ™è¯¥ç‰¹å¾çš„é‡è¦æ€§è¶Šå¤§

# gbdtå¦‚ä½•è¿›è¡Œæ­£åˆ™åŒ–çš„ï¼Ÿ
- å­é‡‡æ ·
    - æ¯ä¸€æ£µæ ‘åŸºäºŽåŽŸå§‹åŽŸæœ¬çš„ä¸€ä¸ªå­é›†è¿›è¡Œè®­ç»ƒ
    - rfæ˜¯æœ‰æ”¾å›žé‡‡æ ·ï¼Œgbdtæ˜¯æ— æ”¾å›žé‡‡æ ·
    - ç‰¹å¾å­é‡‡æ ·å¯ä»¥æ¥æŽ§åˆ¶æ¨¡åž‹æ•´ä½“çš„æ–¹å·®
- åˆ©ç”¨Shrinkageæ”¶ç¼©ï¼ŒæŽ§åˆ¶æ¯ä¸€æ£µå­æ ‘çš„è´¡çŒ®åº¦
- æ¯æ£µCartæ ‘çš„æžå‰ª

# ä¸ºä»€ä¹ˆé›†æˆç®—æ³•å¤§å¤šä½¿ç”¨æ ‘ç±»æ¨¡åž‹ä½œä¸ºåŸºå­¦ä¹ å™¨ï¼Ÿæˆ–è€…è¯´ï¼Œä¸ºä»€ä¹ˆé›†æˆå­¦ä¹ å¯ä»¥åœ¨æ ‘ç±»æ¨¡åž‹ä¸Šå–å¾—æˆåŠŸï¼Ÿ
- å¯¹æ•°æ®çš„è¦æ±‚æ¯”è¾ƒä½Žï¼Œä¸éœ€è¦å¼ºå‡è®¾ï¼Œä¸éœ€è¦æ•°æ®é¢„å¤„ç†ï¼Œè¿žç»­ç¦»æ•£éƒ½å¯ä»¥ï¼Œç¼ºå¤±å€¼ä¹Ÿèƒ½æŽ¥å—
- baggingï¼Œå…³æ³¨äºŽæå‡åˆ†ç±»å™¨çš„æ³›åŒ–èƒ½åŠ›
- boostingï¼Œå…³æ³¨äºŽæå‡åˆ†ç±»å™¨çš„ç²¾åº¦

# gbdtçš„ä¼˜ç¼ºç‚¹ï¼Ÿ
ä¼˜ç‚¹ï¼š
- æ•°æ®è¦æ±‚æ¯”è¾ƒä½Žï¼Œä¸éœ€è¦å‰æå‡è®¾ï¼Œèƒ½å¤„ç†ç¼ºå¤±å€¼ï¼Œè¿žç»­å€¼ï¼Œç¦»æ•£å€¼
- ä½¿ç”¨ä¸€äº›å¥å£®çš„æŸå¤±å‡½æ•°ï¼Œå¯¹å¼‚å¸¸å€¼çš„é²æ£’æ€§éžå¸¸å¼º
- è°ƒå‚ç›¸å¯¹è¾ƒç®€å•

ç¼ºç‚¹ï¼š
- å¹¶è¡ŒåŒ–èƒ½åŠ›å·®

# gbdtå’ŒrandomforeståŒºåˆ«ï¼Ÿ
- ç›¸åŒï¼š
    - éƒ½æ˜¯å¤šæ£µæ ‘çš„ç»„åˆ
- ä¸åŒï¼š
    - RFæ¯æ¬¡è¿­ä»£çš„æ ·æœ¬æ˜¯ä»Žå…¨éƒ¨è®­ç»ƒé›†ä¸­æœ‰æ”¾å›žæŠ½æ ·å½¢æˆçš„ï¼Œè€ŒGBDTæ¯æ¬¡ä½¿ç”¨å…¨éƒ¨æ ·æœ¬
    - gbdtå¯¹å¼‚å¸¸å€¼æ¯”rfæ›´åŠ æ•æ„Ÿ
    - gbdtæ˜¯ä¸²è¡Œï¼Œrfæ˜¯å¹¶è¡Œ
    - gbdtæ˜¯cartå›žå½’æ ‘ï¼Œrfæ˜¯cartåˆ†ç±»å›žå½’æ ‘éƒ½å¯ä»¥
    - gbdtæ˜¯æé«˜é™ä½Žåå·®æé«˜æ€§èƒ½ï¼Œrfæ˜¯é€šè¿‡é™ä½Žæ–¹å·®æé«˜æ€§èƒ½
    - gbdtå¯¹è¾“å‡ºå€¼æ˜¯è¿›è¡ŒåŠ æƒæ±‚å’Œï¼Œrfå¯¹è¾“å‡ºå€¼æ˜¯è¿›è¡ŒæŠ•ç¥¨æˆ–è€…å¹³å‡
    
# GBDTå’ŒLRçš„å·®å¼‚ï¼Ÿ
- ä»Žå†³ç­–è¾¹ç•Œæ¥è¯´ï¼Œçº¿æ€§å›žå½’çš„å†³ç­–è¾¹ç•Œæ˜¯ä¸€æ¡ç›´çº¿ï¼Œé€»è¾‘å›žå½’çš„å†³ç­–è¾¹ç•Œæ˜¯ä¸€æ¡æ›²çº¿ï¼Œè€ŒGBDTçš„å†³ç­–è¾¹ç•Œå¯èƒ½æ˜¯å¾ˆå¤šæ¡çº¿
- å½“åœ¨é«˜ç»´ç¨€ç–ç‰¹å¾çš„åœºæ™¯ä¸‹ï¼ŒLRçš„æ•ˆæžœä¸€èˆ¬ä¼šæ¯”GBDTå¥½ã€‚å› ä¸ºLRæœ‰å‚æ•°æƒ©ç½šï¼ŒGBDTå®¹æ˜“é€ æˆè¿‡æ‹Ÿåˆ  

# xgboostçŸ¥è¯†ç‚¹  

# xgboostå¯¹æ¯”gbdt/boosting Treeæœ‰äº†å“ªäº›æ–¹å‘ä¸Šçš„ä¼˜åŒ–ï¼Ÿ
- æ˜¾ç¤ºçš„æŠŠæ ‘æ¨¡åž‹å¤æ‚åº¦ä½œä¸ºæ­£åˆ™é¡¹åŠ åˆ°ä¼˜åŒ–ç›®æ ‡ä¸­
- ä¼˜åŒ–ç›®æ ‡è®¡ç®—ä¸­ç”¨åˆ°äºŒé˜¶æ³°å‹’å±•å¼€ä»£æ›¿ä¸€é˜¶ï¼Œæ›´åŠ å‡†ç¡®
- å®žçŽ°äº†åˆ†è£‚ç‚¹å¯»æ‰¾è¿‘ä¼¼ç®—æ³•
    - æš´åŠ›æžšä¸¾
    - è¿‘ä¼¼ç®—æ³•ï¼ˆåˆ†æ¡¶ï¼‰
- æ›´åŠ é«˜æ•ˆå’Œå¿«é€Ÿ
    - æ•°æ®äº‹å…ˆæŽ’åºå¹¶ä¸”ä»¥blockå½¢å¼å­˜å‚¨ï¼Œæœ‰åˆ©äºŽå¹¶è¡Œè®¡ç®—
    - åŸºäºŽåˆ†å¸ƒå¼é€šä¿¡æ¡†æž¶rabitï¼Œå¯ä»¥è¿è¡Œåœ¨MPIå’Œyarnä¸Š
    - å®žçŽ°åšäº†é¢å‘ä½“ç³»ç»“æž„çš„ä¼˜åŒ–ï¼Œé’ˆå¯¹cacheå’Œå†…å­˜åšäº†æ€§èƒ½ä¼˜åŒ–

# xgboostå’Œgbdtçš„åŒºåˆ«ï¼Ÿ
- æ¨¡åž‹ä¼˜åŒ–ä¸Šï¼š
    - åŸºæ¨¡åž‹çš„ä¼˜åŒ–ï¼š
        - gbdtç”¨çš„æ˜¯cartå›žå½’æ ‘ä½œä¸ºåŸºæ¨¡åž‹ï¼Œxgboostè¿˜å¯ä»¥ç”¨çº¿æ€§æ¨¡åž‹ï¼ŒåŠ ä¸Šå¤©ç”Ÿçš„æ­£åˆ™é¡¹ï¼Œå°±æ˜¯å¸¦L1å’ŒL2é€»è¾‘å›žå½’(åˆ†ç±»)å’Œçº¿æ€§å›žå½’(å›žå½’)
    - æŸå¤±å‡½æ•°ä¸Šçš„ä¼˜åŒ–ï¼š
        - gbdtå¯¹lossæ˜¯æ³°å‹’ä¸€é˜¶å±•å¼€ï¼Œxgboostæ˜¯æ³°å‹’äºŒé˜¶å±•å¼€
        - gbdtæ²¡æœ‰åœ¨lossä¸­å¸¦å…¥ç»“ç‚¹ä¸ªæ•°å’Œé¢„æµ‹å€¼çš„æ­£åˆ™é¡¹
    - ç‰¹å¾é€‰æ‹©ä¸Šçš„ä¼˜åŒ–ï¼š
        - å®žçŽ°äº†ä¸€ç§åˆ†è£‚èŠ‚ç‚¹å¯»æ‰¾çš„è¿‘ä¼¼ç®—æ³•ï¼Œç”¨äºŽåŠ é€Ÿå’Œå‡å°å†…å­˜æ¶ˆè€—ï¼Œè€Œä¸æ˜¯gbdtçš„æš´åŠ›æœç´¢
        - èŠ‚ç‚¹åˆ†è£‚ç®—æ³•è§£å†³äº†ç¼ºå¤±å€¼æ–¹å‘çš„é—®é¢˜ï¼Œgbdtåˆ™æ˜¯æ²¿ç”¨äº†cartçš„æ–¹æ³•è¿›è¡ŒåŠ æƒ
    - æ­£åˆ™åŒ–çš„ä¼˜åŒ–ï¼š
        - ç‰¹å¾é‡‡æ ·
        - æ ·æœ¬é‡‡æ ·
- å·¥ç¨‹ä¼˜åŒ–ä¸Šï¼š
    - xgbooståœ¨å¯¹ç‰¹å¾è¿›è¡Œäº†åˆ†blocké¢„æŽ’åºï¼Œä½¿å¾—åœ¨åšç‰¹å¾åˆ†è£‚çš„æ—¶å€™ï¼Œæœ€ç»ˆé€‰å¢žç›Šæœ€å¤§çš„é‚£ä¸ªç‰¹å¾åŽ»åšåˆ†è£‚ï¼Œé‚£ä¹ˆå„ä¸ªç‰¹å¾çš„å¢žç›Šè®¡ç®—å°±å¯ä»¥å¼€å¤šçº¿ç¨‹è¿›è¡Œ
    - cache-aware, out-of-core computation
    - æ”¯æŒåˆ†å¸ƒå¼è®¡ç®—å¯ä»¥è¿è¡Œåœ¨MPIï¼ŒYARNä¸Šï¼Œå¾—ç›ŠäºŽåº•å±‚æ”¯æŒå®¹é”™çš„åˆ†å¸ƒå¼é€šä¿¡æ¡†æž¶rabit
    
# xgboostä¼˜åŒ–ç›®æ ‡/æŸå¤±å‡½æ•°æ”¹å˜æˆä»€ä¹ˆæ ·ï¼Ÿ
- åŽŸå§‹ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mjezeisj307401fmx0.jpg)
    - ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mnp3fd7j301700idfl.jpg)ä¸ºæ³°å‹’ä¸€é˜¶å±•å¼€ï¼Œ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mrtqxv0j30480173yc.jpg)
- æ”¹å˜ï¼š![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mldvhz5j30ay01k3yf.jpg)
    - Jä¸ºå¶å­ç»“ç‚¹çš„ä¸ªæ•°ï¼Œ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mo56g1vj300o00e0s1.jpg)ä¸ºç¬¬jä¸ªå¶å­ç»“ç‚¹ä¸­çš„æœ€ä¼˜å€¼    
    - ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mnp3fd7j301700idfl.jpg)ä¸ºæ³°å‹’äºŒé˜¶å±•å¼€ï¼Œ![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mtjds7qj309r0193yg.jpg)

# xgboostå¦‚ä½•ä½¿ç”¨MAEæˆ–MAPEä½œä¸ºç›®æ ‡å‡½æ•°ï¼Ÿ
MAE:![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mxhhvg8j303l011q2q.jpg)
MAPE:![](https://tva1.sinaimg.cn/large/006y8mN6gy1g94mx7uyuej303f0170sj.jpg)
- åˆ©ç”¨å¯å¯¼çš„å‡½æ•°é€¼è¿‘MAEæˆ–MAPE
    - mse
    - Huber loss
    - Pseudo-Huber loss

# xgboostå¦‚ä½•å¯»æ‰¾åˆ†è£‚èŠ‚ç‚¹çš„å€™é€‰é›†ï¼Ÿ
- æš´åŠ›æžšä¸¾
    - æ³•å°è¯•æ‰€æœ‰ç‰¹å¾å’Œæ‰€æœ‰åˆ†è£‚ä½ç½®ï¼Œä»Žè€Œæ±‚å¾—æœ€ä¼˜åˆ†è£‚ç‚¹ã€‚å½“æ ·æœ¬å¤ªå¤§ä¸”ç‰¹å¾ä¸ºè¿žç»­å€¼æ—¶ï¼Œè¿™ç§æš´åŠ›åšæ³•çš„è®¡ç®—é‡å¤ªå¤§
- è¿‘ä¼¼ç®—æ³•ï¼ˆapproxï¼‰
    - è¿‘ä¼¼ç®—æ³•å¯»æ‰¾æœ€ä¼˜åˆ†è£‚ç‚¹æ—¶ä¸ä¼šæžšä¸¾æ‰€æœ‰çš„ç‰¹å¾å€¼ï¼Œè€Œæ˜¯å¯¹ç‰¹å¾å€¼è¿›è¡Œèšåˆç»Ÿè®¡ï¼Œç„¶åŽå½¢æˆè‹¥å¹²ä¸ªæ¡¶ã€‚ç„¶åŽä»…ä»…å°†æ¡¶è¾¹ç•Œä¸Šçš„ç‰¹å¾çš„å€¼ä½œä¸ºåˆ†è£‚ç‚¹çš„å€™é€‰ï¼Œä»Žè€ŒèŽ·å–è®¡ç®—æ€§èƒ½çš„æå‡
        - ç¦»æ•£å€¼ç›´æŽ¥åˆ†æ¡¶
        - è¿žç»­å€¼åˆ†ä½æ•°åˆ†æ¡¶

# xgboostå¦‚ä½•å¤„ç†ç¼ºå¤±å€¼ï¼Ÿ
- è®­ç»ƒæ—¶ï¼šç¼ºå¤±å€¼æ•°æ®ä¼šè¢«åˆ†åˆ°å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«è®¡ç®—æŸå¤±ï¼Œé€‰æ‹©è¾ƒä¼˜çš„é‚£ä¸€ä¸ª
- é¢„æµ‹æ—¶ï¼šå¦‚æžœè®­ç»ƒä¸­æ²¡æœ‰æ•°æ®ç¼ºå¤±ï¼Œé¢„æµ‹æ—¶å‡ºçŽ°äº†æ•°æ®ç¼ºå¤±ï¼Œé‚£ä¹ˆé»˜è®¤è¢«åˆ†ç±»åˆ°å³å­æ ‘

# xgbooståœ¨è®¡ç®—é€Ÿåº¦ä¸Šæœ‰äº†å“ªäº›ç‚¹ä¸Šæå‡ï¼Ÿ
- ç‰¹å¾é¢„æŽ’åº
    - æŒ‰ç‰¹å¾è¿›è¡Œå­˜å‚¨ï¼Œæ¯ä¸€ä¸ªblockä»£è¡¨ä¸€ä¸ªç‰¹å¾çš„å€¼ï¼Œæ ·æœ¬åœ¨è¯¥blockä¸­æŒ‰ç…§å®ƒåœ¨è¯¥ç‰¹å¾çš„å€¼æŽ’å¥½åºã€‚è¿™äº›blockåªéœ€è¦åœ¨ç¨‹åºå¼€å§‹çš„æ—¶å€™è®¡ç®—ä¸€æ¬¡ï¼ŒåŽç»­æŽ’åºåªéœ€è¦çº¿æ€§æ‰«æè¿™äº›blockå³å¯
    - blockå¯ä»¥ä»…å­˜æ”¾æ ·æœ¬çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ ·æœ¬æœ¬èº«ï¼Œè¿™æ ·èŠ‚çœäº†å¤§é‡çš„å­˜å‚¨ç©ºé—´

# xgboostç‰¹å¾é‡è¦æ€§æ˜¯å¦‚ä½•å¾—åˆ°çš„ï¼Ÿ
- â€™weightâ€˜ï¼šä»£è¡¨ç€æŸä¸ªç‰¹å¾è¢«é€‰ä½œåˆ†è£‚ç»“ç‚¹çš„æ¬¡æ•°ï¼›
- â€™gainâ€˜ï¼šä½¿ç”¨è¯¥ç‰¹å¾ä½œä¸ºåˆ†ç±»ç»“ç‚¹çš„ä¿¡æ¯å¢žç›Šï¼›
- â€™coverâ€˜ï¼šæŸç‰¹å¾ä½œä¸ºåˆ’åˆ†ç»“ç‚¹ï¼Œè¦†ç›–æ ·æœ¬æ€»æ•°çš„å¹³å‡å€¼ï¼›

# XGBoostä¸­å¦‚ä½•å¯¹æ ‘è¿›è¡Œå‰ªæžï¼Ÿ
- åœ¨ç›®æ ‡å‡½æ•°ä¸­å¢žåŠ äº†æ­£åˆ™é¡¹ï¼šå¶å­ç»“ç‚¹æ ‘+å¶å­ç»“ç‚¹æƒé‡çš„L2æ¨¡çš„å¹³æ–¹
- åœ¨ç»“ç‚¹åˆ†è£‚æ—¶ï¼Œå®šä¹‰äº†ä¸€ä¸ªé˜ˆå€¼ï¼Œå¦‚æžœåˆ†è£‚åŽç›®æ ‡å‡½æ•°çš„å¢žç›Šå°äºŽè¯¥é˜ˆå€¼ï¼Œåˆ™ä¸åˆ†è£‚
- å½“å¼•å…¥ä¸€æ¬¡åˆ†è£‚åŽï¼Œé‡æ–°è®¡ç®—æ–°ç”Ÿæˆçš„å·¦ã€å³ä¸¤ä¸ªå¶å­ç»“ç‚¹çš„æ ·æœ¬æƒé‡å’Œã€‚å¦‚æžœä»»ä¸€ä¸ªå¶å­ç»“ç‚¹çš„æ ·æœ¬æƒé‡ä½ŽäºŽæŸä¸€ä¸ªé˜ˆå€¼ï¼ˆæœ€å°æ ·æœ¬æƒé‡å’Œï¼‰ï¼Œä¹Ÿä¼šæ”¾å¼ƒæ­¤æ¬¡åˆ†è£‚
- XGBoost å…ˆä»Žé¡¶åˆ°åº•å»ºç«‹æ ‘ç›´åˆ°æœ€å¤§æ·±åº¦ï¼Œå†ä»Žåº•åˆ°é¡¶åå‘æ£€æŸ¥æ˜¯å¦æœ‰ä¸æ»¡è¶³åˆ†è£‚æ¡ä»¶çš„ç»“ç‚¹ï¼Œè¿›è¡Œå‰ªæž

# XGBoostæ¨¡åž‹å¦‚æžœè¿‡æ‹Ÿåˆäº†æ€Žä¹ˆè§£å†³ï¼Ÿ
- ç›´æŽ¥ä¿®æ”¹æ¨¡åž‹ï¼š
    - é™ä½Žæ ‘çš„æ·±åº¦
    - å¢žå¤§å¶å­ç»“ç‚¹çš„æƒé‡
    - å¢žå¤§æƒ©ç½šç³»æ•°
- subsampleçš„åŠ›åº¦å˜å¤§ï¼Œé™ä½Žå¼‚å¸¸ç‚¹çš„å½±å“
- å‡å°learning rateï¼Œæé«˜estimator

# xgboostå¦‚ä½•è°ƒå‚æ•°ï¼Ÿ
- å…ˆç¡®å®šlearningrateå’Œestimator
- å†ç¡®å®šæ¯æ£µæ ‘çš„åŸºæœ¬ä¿¡æ¯ï¼Œmax_depthå’Œ min_child_weight
- å†ç¡®å®šå…¨å±€ä¿¡æ¯ï¼šæ¯”å¦‚æœ€å°åˆ†è£‚å¢žç›Šï¼Œå­é‡‡æ ·å‚æ•°ï¼Œæ­£åˆ™å‚æ•°
- é‡æ–°é™ä½Žlearningrateï¼Œå¾—åˆ°æœ€ä¼˜è§£


å­¦ä¹ ç¬”è®°: 2020-4-18
    æˆ‘æ˜¯åˆæ¬¡å­¦ä¹ ç®—æ³•ä¸Žæ•°æ®ç»“æž„ï¼Œä¹‹å‰ä¹Ÿä¸æ˜¯ç§‘ç­å‡ºèº«ï¼Œåœ¨ç¬¬ä¸€å‘¨åˆæ¬¡æŽ¥è§¦ç®—æ³•ä¸Žæ•°æ®ç»“æž„çš„å­¦ä¹ çš„è¿‡ç¨‹å½“é‡åˆ°äº†ä¸å°‘çš„é—®é¢˜ï¼Œæˆ‘å°±ä»¥åˆå­¦è€…åœ¨ç†è§£æ¦‚å¿µå’Œåšé¢˜æ—¶é‡åˆ°é—®é¢˜å¦‚ä½•è§£å†³è¿™ä¸€è§’åº¦æ¥è°ˆè°ˆè‡ªå·±çš„æ„Ÿå—ã€‚
    é¦–å…ˆï¼Œåœ¨åšé¢˜æ–¹é¢ï¼Œå› ä¸ºåˆšæŽ¥è§¦å†™ä»£ç ï¼Œä¹‹å‰ä¸€ç›´è®¤ä¸ºç¼–ç¨‹å†™ä»£ç å°±æ˜¯æ‰“ä¸€å †è‹±æ–‡å­—æ¯çš„ç¼©å†™å°±å®Œäº‹ï¼Œ ä½†æ˜¯çœŸæ­£æŽ¥è§¦äº†ä»£ç ä¹‹åŽæ‰å‘çŽ°å…¶ä¸­çš„é€»è¾‘ç»“æž„ä¹‹ä¸¥å¯†ï¼Œéœ€è¦è€ƒè™‘åˆ°æ–¹æ–¹é¢é¢ï¼Œ æ¯”å¦‚åœ¨åšâ€œç››æœ€å¤šæ°´â€è¿™ä¸ªé¢˜çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘åˆ°æ‰€æœ‰çš„å‡è®¾ç©ºé—´ï¼Œæˆ‘ä¸€å¼€å§‹åªæ˜¯æƒ³åˆ°forå¾ªçŽ¯æ¥éåŽ†æ¯ä¸€æ ¹æŸ±å­æ‰€å›´æˆçš„é¢ç§¯ï¼Œä¸€å¼€å§‹çš„æµ‹è¯•æ ·ä¾‹é€šè¿‡äº†ï¼Œæ²¾æ²¾è‡ªå–œåœ°æäº¤(submit)ä¹‹åŽå‘çŽ°æ²¡æœ‰é€šè¿‡ï¼Œ æƒ³äº†å¥½ä¹…ä¹Ÿä¸çŸ¥é“é—®é¢˜å‡ºçŽ°åœ¨å“ªï¼ŒåŽæ¥æƒ³åˆ°è¦ƒè€å¸ˆçš„è¯ï¼Œæˆ‘å¿½ç„¶æ„è¯†åˆ°è‡ªå·±åˆé™·å…¥äº†ä¹‹å‰åšæ•°å­¦é¢˜çš„åä¹ æƒ¯â€œæ­»ç£•â€ï¼Œç„¶åŽçœ‹äº†é¢˜è§£ä¹‹åŽæ‰å¼„æ˜Žç™½ï¼Œä½¿ç”¨whileå¾ªçŽ¯å¯ä»¥å®Œæ•´åœ°éåŽ†æ•´ä¸ªæ¡å½¢çš„æƒ…å†µã€‚å½“ç„¶ï¼Œå°ç™½å­¦ç®—æ³•æ‰€é‡åˆ°çš„å›°éš¾ä¸ä»…ä»…æ˜¯åšé¢˜æ²¡æ€è·¯ï¼Œå°±æ˜¯åœ¨æ¦‚å¿µç†è§£ä¸Šä¹Ÿä¼šè§‰å¾—ä¸çŸ¥æ‰€äº‘ï¼Œè¿™å°±æ˜¯æˆ‘æŽ¥ä¸‹æ¥è¦è®²çš„ç¬¬äºŒç‚¹ã€‚
    æˆ‘åœ¨çœ‹è§†é¢‘è¯¾çš„æ—¶å€™å‘çŽ°å¹¶ä¸æ˜¯æƒ³è±¡ä¸­é›¶åŸºç¡€æ•™æŽˆç®—æ³•å’Œæ•°æ®ç»“æž„çš„æ¦‚å¿µï¼Œè€å¸ˆè®²çš„ç»“æž„å’Œé€»è¾‘éƒ½å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯åšä¸ºä¸€ä¸ªä¸€ç‚¹åŸºç¡€ä¹Ÿæ²¡æœ‰çš„æˆ‘æ¥è¯´å¬ç¬¬ä¸€éçš„æ—¶å€™æ€»æ˜¯äº‘é‡Œé›¾é‡Œï¼Œå¤„äºŽæ‡µçš„çŠ¶æ€ï¼Œå½“ç„¶ï¼Œæˆ‘åœ¨è¿™ä¸€ç‚¹ä¹Ÿåšäº†åº”å¯¹æŽªæ–½ï¼Œæˆ‘è®²è®²æˆ‘çš„åº”å¯¹ç»éªŒã€‚æˆ‘å…ˆç”¨1.25å€ï¼ˆè€å¸ˆå»ºè®®1.5å€ï¼Œæˆ‘çœŸçš„è·Ÿä¸ä¸Šï¼Œæ‰‹åŠ¨ç‹—å¤´ï¼‰çš„é€Ÿåº¦å¿«é€Ÿå¬ä¸€éï¼Œå°½å¯èƒ½åœ°æŠŠè‡ªå·±å¬æ‡‚çš„æ€»ç»“å‡ºæ¥ï¼Œç„¶åŽç«‹é©¬å†çœ‹ä¸€éï¼ŒæŠŠè€å¸ˆè®²çš„æ¯ä¸€ä¸ªè¦ç‚¹éƒ½æ€»ç»“åœ¨æœ¬ä¸Šï¼Œç„¶åŽä¸Žç¬¬ä¸€éæ€»ç»“çš„åšå¯¹æ¯”ï¼Œå®Œå–„ï¼Œç¬¬äºŒå¤©æ—©ä¸Šå†çœ‹ä¸€éç¬”è®°ï¼Œç†è§£ï¼Œç„¶åŽå†çœ‹è€å¸ˆè®²çš„å†…å®¹å°±å¾ˆæœ‰ä½“ä¼šäº†ã€‚ä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šåŸºæœ¬çŸ¥è¯†ç‚¹è€å¸ˆå¯èƒ½è§‰å¾—å¤ªåŸºæœ¬çš„æ²¡è®²ï¼Œç„¶åŽä»Žä¹¦ä¸­æ‰¾åˆ°ç›¸åº”çš„ç« èŠ‚çœ‹ä¸€éï¼Œè¿™æ ·å°±èƒ½å¾ˆå¥½çš„ç†è§£æœ¬å‘¨æ‰€è®²çš„å†…å®¹äº†ã€‚
    æ€»ä¹‹ï¼Œå¯¹äºŽå°ç™½æ¥å­¦è¿™ä¸ªè¯¾çš„åŸºæœ¬å°±æ˜¯å‡ ä¸ªå­—ï¼Œâ€œç”¨å¿ƒï¼Œé‡å¤â€ï¼Œæ­£å¦‚è¦ƒè€å¸ˆæ‰€è®²çš„â€œè¿‡éæ•°â€ã€‚åˆšå¼€å§‹å­¦è¿™ä¸ªé¢†åŸŸçš„åªæ˜¯ï¼Œæ„Ÿè§‰åˆ°æ–°å¥‡ï¼Œæœ‰æ„æ€ï¼Œæˆ‘æƒ³æˆ‘èƒ½åœ¨è¿™â€œ70å¤©â€çš„åˆ»æ„ç»ƒä¹ ä¸­æ”¶èŽ·å¤šå¤šï¼ŒåŠ æ²¹ï¼

//æŸ¥è¯¢å’Œä½¿ç”¨stackã€queueå’Œdequeçš„æŽ¥å£
//stackå’Œqueueçš„èƒŒåŽæ˜¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥è¿›è¡Œæ¨¡æ‹Ÿï¼Œ åœ¨è¿™ä¸ªæ•°ç»„ä¸ŠåŠ ä¸€äº›APIæ¥å®žçŽ°stackæˆ–è€…ä¸€ä¸ªqueue
1ã€ä½¿ç”¨åˆ—è¡¨ä½œä¸ºæ ˆstack
ä½¿ç”¨listæ–¹æ³•å¯ä»¥è®²åˆ—è¡¨ä½œä¸ºæ ˆï¼Œå…¶ä¸­æœ€åŽæ·»åŠ çš„å…ƒç´ æ˜¯æ£€ç´¢åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆ"å…ˆè¿›åŽåŽ¨"ï¼‰ã€‚è¦å°†é¡¹ç›®æ·»åŠ åˆ°æ ˆçš„é¡¶éƒ¨ï¼Œä½¿ç”¨append()ã€‚è¦ä»Žæ ˆé¡¶éƒ¨æ£€ç´¢å…ƒç´ ï¼Œä½¿ç”¨pop()
>>>stack = [3, 4, 5]
>>>stack.append(6)
stack = [3, 4, 5, 6]
>>>stack.pop()
6
stack = [3, 4, 5]
2ã€ä½¿ç”¨åˆ—è¡¨ä½œä¸ºé˜Ÿåˆ—
ä¹Ÿå¯ä»¥å°†åˆ—è¡¨ç”¨ä½œé˜Ÿåˆ—ï¼Œå…¶ä¸­æ·»åŠ çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ£€ç´¢åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆâ€œå…ˆè¿›å…ˆå‡ºâ€ï¼‰
>>>from collections import deque
>>>queue = deque(["a", "b", "c"])
>>>queue.append("d")
>>>queue.popleft()